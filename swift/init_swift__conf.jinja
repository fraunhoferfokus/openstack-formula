# swift-{{type}}
#
# The swift {{ type }}.

description     "SWIFT {{ type }}"
author          "Marc Cluet <marc.cluet@ubuntu.com>"

start on runlevel [2345]
stop on runlevel [016]

pre-start script{% if not num %}
  if [ -f "/etc/swift/{{ type.split('-')[0] }}-server.conf" ]; then
    exec /usr/bin/swift-init {{ type }} start{% else %}
  # Just for fun, let's use "(N - 1).conf" for zone N!
  if [ -f "/etc/swift/{{ type.split('-')[0] }}-server/{{ num - 1 }}.conf" ]; then
    exec /usr/bin/swift-init {{ type }} start -c {{ num }}{% endif %}
  else
    exit 1
  fi
end script

post-stop exec /usr/bin/swift-init {{ type }} stop {% if num %}-c {{ num }}{% endif %}
